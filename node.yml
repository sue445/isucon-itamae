xbuild:
  path: "/home/isucon/xbuild"

ruby:
  version: 3.1.1
  binary: "/home/isucon/local/ruby/bin/ruby"

gem:
  binary: "/home/isucon/local/ruby/bin/gem"
  install:
    # NOTE: Ruby 3.1だとbundlerでwarningが出るため
    # c.f. https://github.com/rubygems/rubygems/issues/5234
    bundler: 2.3.9

git_global_config:
  user.email: "sue445@sue445.net"
  user.name:  "sue445"

packages:
  - git
  - wget
  - htop
  - tmux
  - tig
  - redis-server
  - memcached

# NOTE: `sudo systemctl list-unit-files --type=service | grep isu` などで調べる
services:
  enabled:
    # isucon11-qualify
    - isucondition.ruby.service
  disabled:
    # isucon11-qualify
    - isucondition.go.service
    - isucondition.nodejs.service
    - isucondition.perl.service
    - isucondition.php.service
    - isucondition.python.service
    - isucondition.rust.service

    # インストールはするが実際に使うまでサービスは止めておく
    - redis-server
    - memcached

newrelic: false

datadog:
  # NOTE: api_keyは.envからセットする
  # api_key: xxxxxx
  install_only: false
  upgrade: false

  integration:
    datadog-puma: 1.1.0 # https://github.com/DataDog/integrations-extras/blob/master/puma/CHANGELOG.md

mysql:
  slow_query_log_file: /var/log/mysql/slow.log
  long_query_time: "0.5"

puma:
  control_url:   http://127.0.0.1:9293
  control_token: datadog
